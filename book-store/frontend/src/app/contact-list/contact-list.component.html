<div class="view">
<div class="container">
  <div class="row row-cols-3">
    
    <div class="col"><button class="upper-button" (click)=setview()>View All Books</button></div>
    <div class="col"><button class="upper-button" routerLink="/categories">View categories Book</button></div>
  </div>
    
    
    
    
  
    <div class="form-group mb-4">
      <input class="form-control" type="text" [(ngModel)]="searchText" placeholder="Search">
    </div>
    <div *ngIf="!showcategoryview">

    <table class="table" *ngIf="(apiBook | filter: searchText).length > 0; else noResults">
      <colgroup>
        <col width="5%">
        <col width="*">
        <col width="25%">
        <col width="15%">
        <col width="25%">
      </colgroup>
      <thead>
        <tr class="table_head">
          <th scope="col">#</th>
          <th scope="col">Book Name </th>
          <th scope="col">Author Name</th>
          <th scope="col">Catogery</th>
          <th scope="col">Action</th>
          
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let books of apiBook | filter: searchText  ; let i = index">
          <th scope="row">{{i + 1}}</th>
            <td>{{books.BookName}}</td>
            <td>{{books.AuthorName}}</td>
        <td>{{books.catogrie.title}}</td>
        <td><button type="button" class="text-center" style="margin-right: 10px;" [routerLink]="['/book/view', books.id]">View</button>
          <button type="button" class="text-center" style="margin-right: 10px;" [routerLink]="['/book/edit', books.id]">Edit</button>
          <button type="button" class="text-center" (click)="onDelete(books.id)">Delete</button>
        </td>
        </tr>
      </tbody>
    </table>

    <ng-template #noResults>
      <p>No results found for "{{searchText}}".</p>
    </ng-template>
  </div>




<div *ngIf="showcategoryview" class="container">
 
<table style="width: 100%;" *ngIf="(getdata | filter: searchText).length > 0; else noResults">
  <tr>
    <th style="width: 33.3%;">Book Name</th>
    <th style="width: 33.3%;">Book Author</th>
    <th style="width: 33.3%;">Action</th>
  </tr>
  <tr *ngFor="let element of getdata| filter: searchText  ;">
    <td>{{element.BookName}}</td>
    <td>{{element.AuthorName}}</td>
    <td>
      <button type="button" class="btn btn-primary" style="margin-right: 10px;" [routerLink]="['/book/view', element.id]">View</button>
      <button type="button" class="btn btn-primary" style="margin-right: 10px;" [routerLink]="['/book/edit', element.id]">Edit</button>
      <button type="button" class="btn btn-primary" (click)="onDelete1(element.id)">Delete</button>
    </td>
  </tr>


</table>
<ng-template #noResults>
  <p>No results found for "{{searchText}}".</p>
</ng-template>
</div>
</div>



















<!-- <div  *ngIf="showcategoryview" class="container">
  <div  *ngFor="let element of getdata">
    <table  border="1px" style="width:100%">     
      <tr>
        <td style="width:50%">{{element.BookName}}</td>
        <td style="width:50%">{{element.AuthorName}}</td>
      </tr>
    </table>
  </div>
</div> -->
